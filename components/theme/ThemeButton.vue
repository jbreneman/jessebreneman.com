<template>
	<button class="theme-button" @click="changeTheme">
		<svg
			class="theme-icon"
			viewBox="0 0 500 500"
			xmlns="http://www.w3.org/2000/svg"
		>
			<g>
				<path
					d="m242.102 488.78-8.427-.755c-32.333-3.094-56.33-31.719-53.49-63.805l10.923-76.398c.847-9.794-6.644-19.065-17.14-20.428l-50.098-5.845c-34.261-4.461-59.973-33.526-59.973-67.633v-40.55c0-6.894 5.631-12.472 12.578-12.472H412.74c6.947 0 12.578 5.578 12.578 12.472v40.55c0 34.107-25.712 63.172-59.811 67.605l-50.416 5.898c-10.335 1.34-17.826 10.609-16.906 21.073l10.77 75.06c2.913 32.756-21.085 61.381-53.417 64.475zM89.046 225.836v28.077c0 21.622 16.31 40.053 37.94 42.877l50.089 5.845c24.055 3.13 41.118 24.216 39.012 48.016l-10.924 76.399c-1.56 17.846 12.284 34.349 30.937 36.14l7.216.694 9.795-.694c18.656-1.791 32.497-18.299 30.864-36.81l-10.771-75.06c-2.179-24.47 14.885-45.556 38.778-48.662l50.408-5.898c21.46-2.803 37.77-21.23 37.77-42.852V225.83z"
				/>
				<path
					d="M263.014 427.21c0 10.118-8.27 18.323-18.472 18.323-10.202 0-18.472-8.205-18.472-18.322s8.27-18.322 18.472-18.322c10.202 0 18.472 8.205 18.472 18.322"
				/>
				<path
					d="M244.539 450.198c-12.784 0-23.187-10.319-23.187-22.998s10.403-22.998 23.187-22.998 23.187 10.32 23.187 22.998-10.4 22.998-23.187 22.998zm0-36.64c-7.584 0-13.756 6.116-13.756 13.643s6.172 13.643 13.756 13.643 13.755-6.115 13.755-13.643-6.172-13.643-13.755-13.643zM400.186 224.338h-312.4c-6.644 0-12.142-5.127-12.549-11.694L63.917 32.161a12.408 12.408 0 0 1 3.39-9.318 12.628 12.628 0 0 1 9.164-3.934h336.286c3.49 0 6.818 1.437 9.194 3.958a12.403 12.403 0 0 1 3.352 9.379l-12.578 180.493c-.457 6.527-5.938 11.606-12.545 11.606ZM99.61 199.393h288.843l10.84-155.544H89.858Z"
				/>
				<path
					d="M192.29 146.12c11.641 24.828 34.91 25.141 54.195 0l3.621-4.781c7.11-9.383 21.316-9.344 28.375.078l3.523 4.703c19.977 27.023 37.551 22.801 53.785 0l16.5-22.516c7.524-10.266 23.203-9.473 29.633 1.496l12.32 21.016 10.266 14.746c6.516 9.36 19.887 10.805 28.281 3.059l19.301-17.805c20.47-22.078 36.012-13.035 55.047 0l5.684-81.543-325.64.004z"
					class="icon-fill"
					transform="translate(-116.82 -35.311) scale(1.03269)"
				/>
				<path
					d="M422.513 173.024c-.934 0-1.878-.049-2.816-.146-7.446-.815-14.163-4.781-18.42-10.876l-10.63-15.243-13.021-22.143c-2.085-3.537-5.653-5.694-9.793-5.903-4.144-.303-7.923 1.563-10.355 4.89l-17.088 23.278c-10.439 14.632-21.067 21.823-32.449 21.921h-.239c-11.431 0-22.303-7.172-33.222-21.898l-3.62-4.841c-2.287-3.036-5.804-4.793-9.635-4.805h-.033c-3.82 0-7.324 1.733-9.623 4.769l-3.759 4.938c-11.855 15.412-25.755 23.056-39.1 21.69-11.593-1.243-21.468-9.339-27.792-22.813a6.16 6.16 0 0 1-.579-2.245l-5.297-84.287a6.215 6.215 0 0 1 1.7-4.672 6.322 6.322 0 0 1 4.597-1.962H518.67a6.33 6.33 0 0 1 4.613 1.986 6.226 6.226 0 0 1 1.683 4.684l-5.887 84.288a6.236 6.236 0 0 1-3.561 5.193 6.343 6.343 0 0 1-6.32-.49c-19.391-13.227-31.235-19.825-48.793-.899l-20.339 18.751a25.929 25.929 0 0 1-17.557 6.836ZM367.2 106.22c.422 0 .851 0 1.275.024 8.352.428 15.843 4.95 20.05 12.109l12.763 21.728 10.372 14.826a13.179 13.179 0 0 0 9.404 5.56c3.835.404 7.598-.84 10.403-3.411l19.99-18.412c21.257-22.91 39.963-16.361 55.777-6.598l4.674-66.876H188.053l4.804 76.445c3.191 6.388 8.666 13.718 17.209 14.634 8.61.876 18.762-5.206 27.69-16.814l3.731-4.914c4.697-6.194 11.877-9.743 19.706-9.743h.06c7.846.024 15.041 3.61 19.73 9.84l3.646 4.878c8.324 11.241 16.688 17.157 23.2 16.824 6.936-.06 14.439-5.681 22.312-16.703l17.137-23.351c4.67-6.351 12.047-10.046 19.924-10.046Z"
					class="icon-fill"
					transform="translate(-116.82 -35.311) scale(1.03269)"
				/>
			</g>
		</svg>
		<span class="visually-hidden">
			Change theme
		</span>
	</button>
</template>

<script>
const themes = ["system", "sunset", "sunrise"];

const getNextTheme = current => {
	const currentIndex = themes.findIndex(item => item === current);
	const nextIndex = currentIndex + 1 === themes.length ? 0 : currentIndex + 1;
	return themes[nextIndex];
};

export default {
	methods: {
		changeTheme() {
			this.$colorMode.preference = getNextTheme(
				this.$colorMode.preference
			);
		}
	}
};
</script>

<style lang="scss" scoped>
.theme-button {
	--icon-size: 2rem;
	--padding: var(--spacing-200);
	appearance: none;
	border: 0;
	display: flex;
	justify-content: center;
	align-items: center;
	border-radius: 50%;
	background-color: white;
	border: 1px solid var(--grey-100);
	box-shadow: 0 1px 2px rgba(black, 0.02), 0 2px 4px rgba(black, 0.02),
		0 4px 8px rgba(black, 0.02), 0 8px 16px rgba(black, 0.02),
		0 16px 32px rgba(black, 0.02), 0 32px 64px rgba(black, 0.02);
	padding: var(--padding);
	width: calc(var(--icon-size) + (var(--padding) * 2) + 2px);
	height: calc(var(--icon-size) + (var(--padding) * 2) + 2px);
}

.theme-icon {
	width: var(--icon-size);
	height: var(--icon-size);
}

.icon-fill {
	fill: var(--primary);
}
</style>
